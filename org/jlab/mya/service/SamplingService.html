<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152) on Tue Nov 07 10:13:25 EST 2017 -->
<title>SamplingService</title>
<meta name="date" content="2017-11-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SamplingService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">jmyapi Version 1.0.1</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jlab/mya/service/PointService.html" title="class in org.jlab.mya.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jlab/mya/service/SamplingService.html" target="_top">Frames</a></li>
<li><a href="SamplingService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.jlab.mya.QueryService">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jlab.mya.service</div>
<h2 title="Class SamplingService" class="title">Class SamplingService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/jlab/mya/QueryService.html" title="class in org.jlab.mya">org.jlab.mya.QueryService</a></li>
<li>
<ul class="inheritance">
<li>org.jlab.mya.service.SamplingService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SamplingService</span>
extends <a href="../../../../org/jlab/mya/QueryService.html" title="class in org.jlab.mya">QueryService</a></pre>
<div class="block">Provides query access to the Mya database for a set of sampled events in a
 given time interval.

 Sampling is sometimes performed in the database itself as a stored procedure
 to possibly minimize the amount of data transferred. However, it is possible
 that sampling will actually increase the size of the result set. This is
 because Mya data is stored as a set of deltas or changes. There is no fixed
 update frequency.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>slominskir</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.jlab.mya.QueryService">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.jlab.mya.<a href="../../../../org/jlab/mya/QueryService.html" title="class in org.jlab.mya">QueryService</a></h3>
<code><a href="../../../../org/jlab/mya/QueryService.html#nexus">nexus</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/jlab/mya/service/SamplingService.html#SamplingService-org.jlab.mya.DataNexus-">SamplingService</a></span>(<a href="../../../../org/jlab/mya/DataNexus.html" title="class in org.jlab.mya">DataNexus</a>&nbsp;nexus)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jlab/mya/service/SamplingService.html#openAdvancedSamplerFloatStream-org.jlab.mya.params.AdvancedSamplerParams-">openAdvancedSamplerFloatStream</a></span>(<a href="../../../../org/jlab/mya/params/AdvancedSamplerParams.html" title="class in org.jlab.mya.params">AdvancedSamplerParams</a>&nbsp;params)</code>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the advanced algorithm.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jlab/mya/service/SamplingService.html#openBasicSamplerFloatStream-org.jlab.mya.params.BasicSamplerParams-">openBasicSamplerFloatStream</a></span>(<a href="../../../../org/jlab/mya/params/BasicSamplerParams.html" title="class in org.jlab.mya.params">BasicSamplerParams</a>&nbsp;params)</code>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the basic algorithm.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jlab/mya/service/SamplingService.html#openImprovedSamplerFloatStream-org.jlab.mya.params.ImprovedSamplerParams-">openImprovedSamplerFloatStream</a></span>(<a href="../../../../org/jlab/mya/params/ImprovedSamplerParams.html" title="class in org.jlab.mya.params">ImprovedSamplerParams</a>&nbsp;params)</code>
<div class="block">Open a stream to float events associated with the specified
 ImprovedSamplerParams and sampled using the improved algorithm.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jlab/mya/service/SamplingService.html#openNaiveSamplerFloatStream-org.jlab.mya.params.NaiveSamplerParams-">openNaiveSamplerFloatStream</a></span>(<a href="../../../../org/jlab/mya/params/NaiveSamplerParams.html" title="class in org.jlab.mya.params">NaiveSamplerParams</a>&nbsp;params)</code>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the naive algorithm.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.jlab.mya.QueryService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jlab.mya.<a href="../../../../org/jlab/mya/QueryService.html" title="class in org.jlab.mya">QueryService</a></h3>
<code><a href="../../../../org/jlab/mya/QueryService.html#findExtraInfo-org.jlab.mya.Metadata-java.lang.String-">findExtraInfo</a>, <a href="../../../../org/jlab/mya/QueryService.html#findMetadata-java.lang.String-">findMetadata</a>, <a href="../../../../org/jlab/mya/QueryService.html#getNexus--">getNexus</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SamplingService-org.jlab.mya.DataNexus-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SamplingService</h4>
<pre>public&nbsp;SamplingService(<a href="../../../../org/jlab/mya/DataNexus.html" title="class in org.jlab.mya">DataNexus</a>&nbsp;nexus)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="openNaiveSamplerFloatStream-org.jlab.mya.params.NaiveSamplerParams-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openNaiveSamplerFloatStream</h4>
<pre>public&nbsp;<a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a>&nbsp;openNaiveSamplerFloatStream(<a href="../../../../org/jlab/mya/params/NaiveSamplerParams.html" title="class in org.jlab.mya.params">NaiveSamplerParams</a>&nbsp;params)
                                             throws java.sql.SQLException</pre>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the naive algorithm.

 The naive algorithm is the what you get with 'myget -l'. "Sampling" is a
 strong word here since the stored procedure used does not always provide
 a consistent spacing of data and does not weigh the data. I assume this
 is comparatively fast vs other sampling methods. It appears the procedure
 simply divides the interval into sub-intervals based on the number of
 requested points and then queries for the first event in each
 sub-interval. If no event is found in the sub-interval then no point is
 provided for that sub-interval meaning that the user may get less points
 then the limit. Sub-intervals are spaced by date.

 Generally you'll want to use try-with-resources around a call to this
 method to ensure you close the stream properly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - The IntervalQueryParams</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If unable to query the database</dd>
</dl>
</li>
</ul>
<a name="openBasicSamplerFloatStream-org.jlab.mya.params.BasicSamplerParams-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openBasicSamplerFloatStream</h4>
<pre>public&nbsp;<a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a>&nbsp;openBasicSamplerFloatStream(<a href="../../../../org/jlab/mya/params/BasicSamplerParams.html" title="class in org.jlab.mya.params">BasicSamplerParams</a>&nbsp;params)
                                             throws java.sql.SQLException</pre>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the basic algorithm.

 The basic algorithm is what you get with 'mySampler'. Each sample is
 obtained from a separate query. Bins are based on date.

 Generally you'll want to use try-with-resources around a call to this
 method to ensure you close the stream properly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - The IntervalQueryParams</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If unable to query the database</dd>
</dl>
</li>
</ul>
<a name="openImprovedSamplerFloatStream-org.jlab.mya.params.ImprovedSamplerParams-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openImprovedSamplerFloatStream</h4>
<pre>public&nbsp;<a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a>&nbsp;openImprovedSamplerFloatStream(<a href="../../../../org/jlab/mya/params/ImprovedSamplerParams.html" title="class in org.jlab.mya.params">ImprovedSamplerParams</a>&nbsp;params)
                                                throws java.sql.SQLException</pre>
<div class="block">Open a stream to float events associated with the specified
 ImprovedSamplerParams and sampled using the improved algorithm.

 This algorithm bins by count, not by date interval like many other
 sampling algorithms. There are pros and cons to this, but it means the
 event-based nature of the data is preserved and doesn't give periods of
 calm/idle time as many samples and give more samples to busy activity
 periods.

 Another feature of this algorithm is it streams over the entire dataset
 once instead of issuing n-queries (n = # of bins). There are pros and
 cons to this as well. This algorithm will generally perform better than
 issuing n-queries would if there are only a few points per bin.

 Note: Users must figure out number of events per bin threshold in which
 to use n-queries instead.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - The ImprovedSamplerParams</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If unable to query the database</dd>
</dl>
</li>
</ul>
<a name="openAdvancedSamplerFloatStream-org.jlab.mya.params.AdvancedSamplerParams-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>openAdvancedSamplerFloatStream</h4>
<pre>public&nbsp;<a href="../../../../org/jlab/mya/stream/FloatEventStream.html" title="class in org.jlab.mya.stream">FloatEventStream</a>&nbsp;openAdvancedSamplerFloatStream(<a href="../../../../org/jlab/mya/params/AdvancedSamplerParams.html" title="class in org.jlab.mya.params">AdvancedSamplerParams</a>&nbsp;params)
                                                throws java.sql.SQLException</pre>
<div class="block">Open a stream to float events associated with the specified
 IntervalQueryParams and sampled using the advanced algorithm.

 The algorithm used is a modified version of largest triangle three bucket
 (LTTB) described in "Downsampling Time Series for Visual Representation"
 (Steinarsson, 2013). In addition to determining the LTTB point for this
 bucket, it also collects and non-update events, the minimum event by
 value, and the maximum event by value. This is an online algorithm and
 does not persist data.

 Generally you'll want to use try-with-resources around a call to this
 method to ensure you close the stream properly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - The IntervalQueryParams</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If unable to query the database</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">jmyapi Version 1.0.1</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jlab/mya/service/PointService.html" title="class in org.jlab.mya.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jlab/mya/service/SamplingService.html" target="_top">Frames</a></li>
<li><a href="SamplingService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.jlab.mya.QueryService">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
